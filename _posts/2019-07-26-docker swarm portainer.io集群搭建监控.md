---
layout:     post
title:      swarm集群搭建，portainer.io监控
subtitle:   集群 监控
date:       2019-07-26
author:     BY LSD
header-img: img/post-bg-swift.jpg
catalog: true
tags:
    - docker
    - swarm
---

### Swarm 简介
Swarm 是 Docker 官方提供的一款集群管理工具，用来管理 Docker 集群，它将若干台 Docker 主机抽象为一个整体，并且通过一个入口统一管理这些 Docker 主机上的各种 Docker 资源。

Swarm 只是一个调度器（Scheduler）加路由器 (Router)，Swarm 自己不运行容器，它只是接受 Docker 客户端发送过来的请求，调度适合的节点来运行容器，这意味着，即使 Swarm 由于某些原因挂掉了，集群中的节点也会照常运行，当 Swarm 重新恢复运行之后，它会收集重建集群信息。

Swarm 和 Kubernetes 比较类似，但是更加轻，具有的功能也较 Kubernetes 更少一些。

### 环境准备
我这里准备了三台机器(ps.我没有修改hostname，大家可以修改一下)
192.168.164.144 (作为manager)
192.168.164.145 (作为worker)
192.168.164.146 (作为worker)
firewalld需要开放的端口
TCP port 2377为集群管理通信
TCP and UDP port 7946 为节点间通信
UDP port 4789 为网络间流量
> firewall-cmd --zone=public --add-port=2377/tcp --permanent
> firewall-cmd --zone=public --add-port=7946/tcp --permanent
> firewall-cmd --zone=public --add-port=4789/tcp --permanent
> systemctl restart firewalld

也可以选择关闭防火墙
> systemctl stop firewalld.service

### 集群搭建
(前提是已经安装好docker，可以参考我之前文章，docker基本命令)
在管理节点144上执行
> docker swarm init --advertise-addr 192.168.164.144

![token令牌](data:image/png;base64,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)

其中     docker swarm join --token SWMTKN-1-20eus5t8xhz8uvrnooster6y78wxmjfq8od31a5ewz85lb7gqu-3ggasn00dx6fdktb5vdsi4qjh 192.168.164.144:2377
就是加入集群的命令。

在145,146机器上执行该命令
然后在144上可以查看集群状态
> docker node ls

或者

>docker info

![集群查看](data:image/png;base64,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)

如果想要再次获取加入集群的命令，通过以下命令：
> sudo docker swarm join-token worker

![获取令牌](data:image/png;base64,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)

至此，swarm集群已经搭建完成。

### Portainer.io
portainer是DockerUI的另一个轮子（https://github.com/portainer/portainer）支持docker自带的swarm容器编排，及容器、volumes、images的管理和操作权限设置。
教程非常多，这里就不多做介绍。

#### 单机版
> docker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v /opt/portainer:/data portainer/portainer
```
-p 开放端口: 本机端口:容器端口
-v 即volumes的文件映射，这里是本机文件映射到容器，/var/run/docker.sock即本机的监控文件
-v /opt/portainer 即本机的/opt/portainer即容器/data portainer/portainer的目录
还可以用ip的方式
>docker run -d -p 9000:9000 portainer/portainer -H tcp://<主机ip>:<主机docker监控端口一般是2375>
```

#### 集群版
这里介绍service方式部署到swarm集群中
```
$ docker service create \
    --name portainer \
    --publish 9000:9000 \
    --constraint 'node.role == manager' \
    --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \
    portainer/portainer \
    -H unix:///var/run/docker.sock
#--constraint 'node.role == manager' 即把service绑定的swarm的管理节点下。
```

更多的启动方式，可以参考[Portainer实战](https://my.oschina.net/guol/blog/2209685)，里面介绍了各种启动方式。

访问地址 ip:9000 即可，具体Portainer.io的操作，可以网上搜索一波。